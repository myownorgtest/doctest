<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>pydocumentdb.document_client &mdash; pydocumentdb 0.9.0-preview documentation</title>
    
    <link rel="stylesheet" href="../../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.9.0-preview',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/sidebar.js"></script>
    <link rel="top" title="pydocumentdb 0.9.0-preview documentation" href="../../index.html" />
    <link rel="up" title="Module code" href="../index.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../index.html">pydocumentdb 0.9.0-preview documentation</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">Module code</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <h1>Source code for pydocumentdb.document_client</h1><div class="highlight"><pre>
<span class="c"># Copyright (c) Microsoft Corporation.  All rights reserved.</span>

<span class="sd">&quot;&quot;&quot;Document client.</span>
<span class="sd">&quot;&quot;&quot;</span>


<span class="kn">import</span> <span class="nn">pydocumentdb.base</span> <span class="kn">as</span> <span class="nn">base</span>
<span class="kn">import</span> <span class="nn">pydocumentdb.documents</span> <span class="kn">as</span> <span class="nn">documents</span>
<span class="kn">import</span> <span class="nn">pydocumentdb.http_constants</span> <span class="kn">as</span> <span class="nn">http_constants</span>
<span class="kn">import</span> <span class="nn">pydocumentdb.query_iterator</span> <span class="kn">as</span> <span class="nn">query_iterator</span>
<span class="kn">import</span> <span class="nn">pydocumentdb.runtime_constants</span> <span class="kn">as</span> <span class="nn">runtime_constants</span>
<span class="kn">import</span> <span class="nn">pydocumentdb.synchronized_request</span> <span class="kn">as</span> <span class="nn">synchronized_request</span>


<div class="viewcode-block" id="DocumentClient"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient">[docs]</a><span class="k">class</span> <span class="nc">DocumentClient</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Represents a document client.</span>

<span class="sd">    Provides a client-side logical representation of the Azure DocumentDB</span>
<span class="sd">    service. This client is used to configure and execute requests against the</span>
<span class="sd">    service.</span>

<span class="sd">    The service client encapsulates the endpoint and credentials used to access</span>
<span class="sd">    the DocumentDB service.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                 <span class="n">url_connection</span><span class="p">,</span>
                 <span class="n">auth</span><span class="p">,</span>
                 <span class="n">connection_policy</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                 <span class="n">consistency_level</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        :Parameters:</span>
<span class="sd">            - `url_connection`: str, the URL for connecting to the DB server.</span>
<span class="sd">            - `auth`: dict, contains &#39;masterKey&#39; or &#39;resourceTokens&#39;, where</span>
<span class="sd">               auth[&#39;masterKey&#39;] is the default authorization key to use to</span>
<span class="sd">               create the client, and auth[&#39;resourceTokens&#39;] is the alternative</span>
<span class="sd">               authorization key.</span>
<span class="sd">            - `connection_policy`: documents.ConnectionPolicy, the connection</span>
<span class="sd">              policy for the client.</span>
<span class="sd">            - `consistency_level`: documents.ConsistencyLevel, the default</span>
<span class="sd">              consistency policy for client operations.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">url_connection</span> <span class="o">=</span> <span class="n">url_connection</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">master_key</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">resource_tokens</span> <span class="o">=</span> <span class="bp">None</span>
        <span class="k">if</span> <span class="n">auth</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">master_key</span> <span class="o">=</span> <span class="p">(</span><span class="n">auth</span><span class="p">[</span><span class="s">&#39;masterKey&#39;</span><span class="p">]</span>
                               <span class="k">if</span> <span class="s">&#39;masterKey&#39;</span> <span class="ow">in</span> <span class="n">auth</span> <span class="k">else</span> <span class="bp">None</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">resource_tokens</span> <span class="o">=</span> <span class="p">(</span><span class="n">auth</span><span class="p">[</span><span class="s">&#39;resourceTokens&#39;</span><span class="p">]</span>
                                    <span class="k">if</span> <span class="s">&#39;resourceTokens&#39;</span> <span class="ow">in</span> <span class="n">auth</span> <span class="k">else</span> <span class="bp">None</span><span class="p">)</span>

            <span class="k">if</span> <span class="s">&#39;permissionFeed&#39;</span> <span class="ow">in</span> <span class="n">auth</span> <span class="ow">and</span> <span class="n">auth</span><span class="p">[</span><span class="s">&#39;permissionFeed&#39;</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">resource_tokens</span> <span class="o">=</span> <span class="p">{}</span>
                <span class="k">for</span> <span class="n">permission_feed</span> <span class="ow">in</span> <span class="n">auth</span><span class="p">[</span><span class="s">&#39;permissionFeed&#39;</span><span class="p">]:</span>
                    <span class="n">resource_parts</span> <span class="o">=</span> <span class="n">permission_feed</span><span class="p">[</span><span class="s">&#39;resource&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">&#39;/&#39;</span><span class="p">)</span>
                    <span class="nb">id</span> <span class="o">=</span> <span class="n">resource_parts</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">resource_tokens</span><span class="p">[</span><span class="nb">id</span><span class="p">]</span> <span class="o">=</span> <span class="n">permission_feed</span><span class="p">[</span><span class="s">&#39;_token&#39;</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">connection_policy</span> <span class="o">=</span> <span class="p">(</span><span class="n">connection_policy</span> <span class="ow">or</span>
                                  <span class="n">documents</span><span class="o">.</span><span class="n">ConnectionPolicy</span><span class="p">())</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">default_headers</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">CacheControl</span><span class="p">:</span> <span class="s">&#39;no-cache&#39;</span><span class="p">,</span>
            <span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">Version</span><span class="p">:</span>
                <span class="n">http_constants</span><span class="o">.</span><span class="n">Versions</span><span class="o">.</span><span class="n">CurrentVersion</span><span class="p">,</span>
            <span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">UserAgent</span><span class="p">:</span>
                <span class="n">http_constants</span><span class="o">.</span><span class="n">Versions</span><span class="o">.</span><span class="n">UserAgent</span>
        <span class="p">}</span>

        <span class="k">if</span> <span class="n">consistency_level</span> <span class="o">!=</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">default_headers</span><span class="p">[</span>
                <span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">ConsistencyLevel</span><span class="p">]</span> <span class="o">=</span> <span class="n">consistency_level</span>
        <span class="c"># Keeps the latest response headers from server.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span> <span class="o">=</span> <span class="bp">None</span>

<div class="viewcode-block" id="DocumentClient.CreateDatabase"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.CreateDatabase">[docs]</a>    <span class="k">def</span> <span class="nf">CreateDatabase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Creates a database.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `body`: dict, the Azure DocumentDB database to create.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/dbs&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">body</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="s">&#39;dbs&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReadDatabase"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadDatabase">[docs]</a>    <span class="k">def</span> <span class="nf">ReadDatabase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">database_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads a database.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `database_link`: str, the link to the database.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">database_link</span>
        <span class="n">database_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">database_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;dbs&#39;</span><span class="p">,</span> <span class="n">database_id</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReadDatabases"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadDatabases">[docs]</a>    <span class="k">def</span> <span class="nf">ReadDatabases</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads all databases.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            query_iterator.QueryIterator</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">QueryDatabases</span><span class="p">(</span><span class="bp">None</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.QueryDatabases"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.QueryDatabases">[docs]</a>    <span class="k">def</span> <span class="nf">QueryDatabases</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Queries databases.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `query`: str</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            query_iterator.QueryIterator</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">fetch_fn</span><span class="p">(</span><span class="n">options</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">result_fn</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="s">&#39;Databases&#39;</span><span class="p">]</span>
            <span class="k">def</span> <span class="nf">create_fn</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">body</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">body</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__QueryFeed</span><span class="p">(</span><span class="s">&#39;/dbs&#39;</span><span class="p">,</span>
                                    <span class="s">&#39;dbs&#39;</span><span class="p">,</span>
                                    <span class="s">&#39;&#39;</span><span class="p">,</span>
                                    <span class="n">result_fn</span><span class="p">,</span>
                                    <span class="n">create_fn</span><span class="p">,</span>
                                    <span class="n">query</span><span class="p">,</span>
                                    <span class="n">options</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span>
        <span class="k">return</span> <span class="n">query_iterator</span><span class="o">.</span><span class="n">QueryIterator</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">fetch_fn</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReadCollections"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadCollections">[docs]</a>    <span class="k">def</span> <span class="nf">ReadCollections</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">database_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads all collections in a database.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `database_link`: str, the link to the database.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            query_iterator.QueryIterator</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">QueryCollections</span><span class="p">(</span><span class="n">database_link</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.QueryCollections"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.QueryCollections">[docs]</a>    <span class="k">def</span> <span class="nf">QueryCollections</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">database_link</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Queries collections in a database.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `database_link`: str, the link to the database.</span>
<span class="sd">            - `query`: str</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            query_iterator.QueryIterator</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">database_link</span> <span class="o">+</span> <span class="s">&#39;colls/&#39;</span>
        <span class="n">database_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">database_link</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">fetch_fn</span><span class="p">(</span><span class="n">options</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">result_fn</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="s">&#39;DocumentCollections&#39;</span><span class="p">]</span>
            <span class="k">def</span> <span class="nf">create_fn</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">body</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">body</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__QueryFeed</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                                    <span class="s">&#39;colls&#39;</span><span class="p">,</span>
                                    <span class="n">database_id</span><span class="p">,</span>
                                    <span class="n">result_fn</span><span class="p">,</span>
                                    <span class="n">create_fn</span><span class="p">,</span>
                                    <span class="n">query</span><span class="p">,</span>
                                    <span class="n">options</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span>
        <span class="k">return</span> <span class="n">query_iterator</span><span class="o">.</span><span class="n">QueryIterator</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">fetch_fn</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.CreateCollection"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.CreateCollection">[docs]</a>    <span class="k">def</span> <span class="nf">CreateCollection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">database_link</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Creates a collection in a database.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `database_link`: str, the link to the database.</span>
<span class="sd">            - `body`: dict, , the Azure DocumentDB collection to create.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">database_link</span> <span class="o">+</span> <span class="s">&#39;colls/&#39;</span>
        <span class="n">database_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">database_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">body</span><span class="p">,</span>
                           <span class="n">path</span><span class="p">,</span>
                           <span class="s">&#39;colls&#39;</span><span class="p">,</span>
                           <span class="n">database_id</span><span class="p">,</span>
                           <span class="bp">None</span><span class="p">,</span>
                           <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReadCollection"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadCollection">[docs]</a>    <span class="k">def</span> <span class="nf">ReadCollection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads a collection.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `collection_link`: str, the link to the document collection.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">collection_link</span>
        <span class="n">collection_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">collection_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                         <span class="s">&#39;colls&#39;</span><span class="p">,</span>
                         <span class="n">collection_id</span><span class="p">,</span>
                         <span class="bp">None</span><span class="p">,</span>
                         <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.CreateUser"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.CreateUser">[docs]</a>    <span class="k">def</span> <span class="nf">CreateUser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">database_link</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Creates a user.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `database_link`: str, the link to the database.</span>
<span class="sd">            - `body`: dict, the Azure DocumentDB user to create.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">database_link</span> <span class="o">+</span> <span class="s">&#39;users/&#39;</span>
        <span class="n">database_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">database_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">body</span><span class="p">,</span>
                           <span class="n">path</span><span class="p">,</span>
                           <span class="s">&#39;users&#39;</span><span class="p">,</span>
                           <span class="n">database_id</span><span class="p">,</span>
                           <span class="bp">None</span><span class="p">,</span>
                           <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReadUser"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadUser">[docs]</a>    <span class="k">def</span> <span class="nf">ReadUser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads a user.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `user_link`: str, the link to the user entity.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">user_link</span>
        <span class="n">user_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">user_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;users&#39;</span><span class="p">,</span> <span class="n">user_id</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReadUsers"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadUsers">[docs]</a>    <span class="k">def</span> <span class="nf">ReadUsers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">database_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads all users in a database.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `database_link`: str, the link to the database.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>
<span class="sd">        :Returns:</span>
<span class="sd">            query_iterator.QueryIterator</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">QueryUsers</span><span class="p">(</span><span class="n">database_link</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.QueryUsers"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.QueryUsers">[docs]</a>    <span class="k">def</span> <span class="nf">QueryUsers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">database_link</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Queries users in a database.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `database_link`: str, the link to the database.</span>
<span class="sd">            - `query`: str</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            query_iterator.QueryIterator</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">database_link</span> <span class="o">+</span> <span class="s">&#39;users/&#39;</span>
        <span class="n">database_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">database_link</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">fetch_fn</span><span class="p">(</span><span class="n">options</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">result_fn</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="s">&#39;Users&#39;</span><span class="p">]</span>
            <span class="k">def</span> <span class="nf">create_fn</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">body</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">body</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__QueryFeed</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                                    <span class="s">&#39;users&#39;</span><span class="p">,</span>
                                    <span class="n">database_id</span><span class="p">,</span>
                                    <span class="n">result_fn</span><span class="p">,</span>
                                    <span class="n">create_fn</span><span class="p">,</span>
                                    <span class="n">query</span><span class="p">,</span>
                                    <span class="n">options</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span>
        <span class="k">return</span> <span class="n">query_iterator</span><span class="o">.</span><span class="n">QueryIterator</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">fetch_fn</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReplaceDatabase"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReplaceDatabase">[docs]</a>    <span class="k">def</span> <span class="nf">ReplaceDatabase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">database_link</span><span class="p">,</span> <span class="n">db</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Replaces a database and returns it.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `database_link`: str, the link to the database.</span>
<span class="sd">            - `db`: dict</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">database_link</span>
        <span class="n">database_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">database_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Replace</span><span class="p">(</span><span class="n">db</span><span class="p">,</span>
                            <span class="n">path</span><span class="p">,</span>
                            <span class="s">&#39;dbs&#39;</span><span class="p">,</span>
                            <span class="n">database_id</span><span class="p">,</span>
                            <span class="bp">None</span><span class="p">,</span>
                            <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.DeleteDatabase"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.DeleteDatabase">[docs]</a>    <span class="k">def</span> <span class="nf">DeleteDatabase</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">database_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Deletes a database.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `database_link`: str, the link to the database.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">database_link</span>
        <span class="n">database_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">database_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">DeleteResource</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                                   <span class="s">&#39;dbs&#39;</span><span class="p">,</span>
                                   <span class="n">database_id</span><span class="p">,</span>
                                   <span class="bp">None</span><span class="p">,</span>
                                   <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.CreatePermission"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.CreatePermission">[docs]</a>    <span class="k">def</span> <span class="nf">CreatePermission</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_link</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Creates a permission for a user.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `user_link`: str, the link to the user entity.</span>
<span class="sd">            - `body`: dict, the Azure DocumentDB user permission to create.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">user_link</span> <span class="o">+</span> <span class="s">&#39;permissions/&#39;</span>
        <span class="n">user_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">user_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">body</span><span class="p">,</span>
                           <span class="n">path</span><span class="p">,</span>
                           <span class="s">&#39;permissions&#39;</span><span class="p">,</span>
                           <span class="n">user_id</span><span class="p">,</span>
                           <span class="bp">None</span><span class="p">,</span>
                           <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReadPermission"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadPermission">[docs]</a>    <span class="k">def</span> <span class="nf">ReadPermission</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">permission_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads a permission.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `permission_link`: str, the link to the permission.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">permission_link</span>
        <span class="n">permission_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">permission_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                         <span class="s">&#39;permissions&#39;</span><span class="p">,</span>
                          <span class="n">permission_id</span><span class="p">,</span>
                          <span class="bp">None</span><span class="p">,</span>
                          <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReadPermissions"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadPermissions">[docs]</a>    <span class="k">def</span> <span class="nf">ReadPermissions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads all permissions for a user.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `user_link`: str, the link to the user entity.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            query_iterator.QueryIterator</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">QueryPermissions</span><span class="p">(</span><span class="n">user_link</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.QueryPermissions"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.QueryPermissions">[docs]</a>    <span class="k">def</span> <span class="nf">QueryPermissions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_link</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Queries permissions for a user.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `user_link`: str, the link to the user entity.</span>
<span class="sd">            - `query`: str</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            query_iterator.QueryIterator</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">user_link</span> <span class="o">+</span> <span class="s">&#39;permissions/&#39;</span>
        <span class="n">user_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">user_link</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">fetch_fn</span><span class="p">(</span><span class="n">options</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">result_fn</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="s">&#39;Permissions&#39;</span><span class="p">]</span>
            <span class="k">def</span> <span class="nf">create_fn</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">body</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">body</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__QueryFeed</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                                    <span class="s">&#39;permissions&#39;</span><span class="p">,</span>
                                    <span class="n">user_id</span><span class="p">,</span>
                                    <span class="n">result_fn</span><span class="p">,</span>
                                    <span class="n">create_fn</span><span class="p">,</span>
                                    <span class="n">query</span><span class="p">,</span>
                                    <span class="n">options</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span>
        <span class="k">return</span> <span class="n">query_iterator</span><span class="o">.</span><span class="n">QueryIterator</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">fetch_fn</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReplaceUser"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReplaceUser">[docs]</a>    <span class="k">def</span> <span class="nf">ReplaceUser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_link</span><span class="p">,</span> <span class="n">user</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Replaces a user and return it.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `user_link`: str, the link to the user entity.</span>
<span class="sd">            - `user`: dict</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">user_link</span>
        <span class="n">user_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">user_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Replace</span><span class="p">(</span><span class="n">user</span><span class="p">,</span>
                            <span class="n">path</span><span class="p">,</span>
                            <span class="s">&#39;users&#39;</span><span class="p">,</span>
                            <span class="n">user_id</span><span class="p">,</span>
                            <span class="bp">None</span><span class="p">,</span>
                            <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.DeleteUser"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.DeleteUser">[docs]</a>    <span class="k">def</span> <span class="nf">DeleteUser</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">user_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Deletes a user.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `user_link`: str, the link to the user entity.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">user_link</span>
        <span class="n">user_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">user_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">DeleteResource</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                                   <span class="s">&#39;users&#39;</span><span class="p">,</span>
                                   <span class="n">user_id</span><span class="p">,</span>
                                   <span class="bp">None</span><span class="p">,</span>
                                   <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReplacePermission"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReplacePermission">[docs]</a>    <span class="k">def</span> <span class="nf">ReplacePermission</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">permission_link</span><span class="p">,</span> <span class="n">permission</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Replaces a permission and return it.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `permission_link`: str, the link to the permission.</span>
<span class="sd">            - `permission`: dict</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">permission_link</span>
        <span class="n">permission_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">permission_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Replace</span><span class="p">(</span><span class="n">permission</span><span class="p">,</span>
                            <span class="n">path</span><span class="p">,</span>
                            <span class="s">&#39;permissions&#39;</span><span class="p">,</span>
                            <span class="n">permission_id</span><span class="p">,</span>
                            <span class="bp">None</span><span class="p">,</span>
                            <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.DeletePermission"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.DeletePermission">[docs]</a>    <span class="k">def</span> <span class="nf">DeletePermission</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">permission_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Deletes a permission.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `permission_link`: str, the link to the permission.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">permission_link</span>
        <span class="n">permission_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">permission_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">DeleteResource</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                                   <span class="s">&#39;permissions&#39;</span><span class="p">,</span>
                                   <span class="n">permission_id</span><span class="p">,</span>
                                   <span class="bp">None</span><span class="p">,</span>
                                   <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReadDocuments"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadDocuments">[docs]</a>    <span class="k">def</span> <span class="nf">ReadDocuments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection_link</span><span class="p">,</span> <span class="n">feed_options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads all documents in a collection.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `collection_link`: str, the link to the document collection.</span>
<span class="sd">            - `feed_options`: dict</span>

<span class="sd">        :Returns:</span>
<span class="sd">            query_iterator.QueryIterator</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">QueryDocuments</span><span class="p">(</span><span class="n">collection_link</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">feed_options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.QueryDocuments"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.QueryDocuments">[docs]</a>    <span class="k">def</span> <span class="nf">QueryDocuments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection_link</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Queries documents in a collection.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `collection_link`: str, the link to the document collection.</span>
<span class="sd">            - `query`: str</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            query_iterator.QueryIterator</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">collection_link</span> <span class="o">+</span> <span class="s">&#39;docs/&#39;</span>
        <span class="n">collection_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">collection_link</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">fetch_fn</span><span class="p">(</span><span class="n">options</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">result_fn</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="s">&#39;Documents&#39;</span><span class="p">]</span>
            <span class="k">def</span> <span class="nf">create_fn</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">body</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">body</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__QueryFeed</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                                    <span class="s">&#39;docs&#39;</span><span class="p">,</span>
                                    <span class="n">collection_id</span><span class="p">,</span>
                                    <span class="n">result_fn</span><span class="p">,</span>
                                    <span class="n">create_fn</span><span class="p">,</span>
                                    <span class="n">query</span><span class="p">,</span>
                                    <span class="n">options</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span>
        <span class="k">return</span> <span class="n">query_iterator</span><span class="o">.</span><span class="n">QueryIterator</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">fetch_fn</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.CreateDocument"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.CreateDocument">[docs]</a>    <span class="k">def</span> <span class="nf">CreateDocument</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection_link</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Creates a document in a collection.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `collection_link`: str, the link to the document collection.</span>
<span class="sd">            - `body`: dict, the Azure DocumentDB document to create.</span>
<span class="sd">            - `body[&#39;id&#39;]`: str, id of the document, MUST be unique for each</span>
<span class="sd">              document.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>
<span class="sd">            - `options[&#39;disableAutomaticIdGeneration&#39;]`: bool, disables the</span>
<span class="sd">              automatic id generation. If id is missing in the body and this</span>
<span class="sd">              option is true, an error will be returned.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="p">(((</span><span class="ow">not</span> <span class="s">&#39;id&#39;</span> <span class="ow">in</span> <span class="n">body</span><span class="p">)</span> <span class="ow">or</span> <span class="p">(</span><span class="ow">not</span> <span class="n">body</span><span class="p">[</span><span class="s">&#39;id&#39;</span><span class="p">]))</span> <span class="ow">and</span>
            <span class="p">((</span><span class="ow">not</span> <span class="s">&#39;disableAutomaticIdGeneration&#39;</span> <span class="ow">in</span> <span class="n">options</span><span class="p">)</span> <span class="ow">or</span>
             <span class="p">(</span><span class="ow">not</span> <span class="n">options</span><span class="p">[</span><span class="s">&#39;disableAutomaticIdGeneration&#39;</span><span class="p">]))):</span>
            <span class="n">body</span><span class="p">[</span><span class="s">&#39;id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GenerateGuidId</span><span class="p">()</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">collection_link</span> <span class="o">+</span> <span class="s">&#39;docs/&#39;</span>
        <span class="n">collection_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">collection_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">body</span><span class="p">,</span>
                           <span class="n">path</span><span class="p">,</span>
                           <span class="s">&#39;docs&#39;</span><span class="p">,</span>
                           <span class="n">collection_id</span><span class="p">,</span>
                           <span class="bp">None</span><span class="p">,</span>
                           <span class="n">options</span><span class="p">)</span>
 </div>
<div class="viewcode-block" id="DocumentClient.ReadDocument"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadDocument">[docs]</a>    <span class="k">def</span> <span class="nf">ReadDocument</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads a document.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `document_link`: str, the link to the document.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">document_link</span>
        <span class="n">document_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">document_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                         <span class="s">&#39;docs&#39;</span><span class="p">,</span>
                         <span class="n">document_id</span><span class="p">,</span>
                         <span class="bp">None</span><span class="p">,</span>
                         <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReadTriggers"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadTriggers">[docs]</a>    <span class="k">def</span> <span class="nf">ReadTriggers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads all triggers in a collection.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `collection_link`: str, the link to the document collection.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            query_iterator.QueryIterator</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">QueryTriggers</span><span class="p">(</span><span class="n">collection_link</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.QueryTriggers"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.QueryTriggers">[docs]</a>    <span class="k">def</span> <span class="nf">QueryTriggers</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection_link</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Queries triggers in a collection.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `collection_link`: str, the link to the document collection.</span>
<span class="sd">            - `query`: str</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            query_iterator.QueryIterator</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">collection_link</span> <span class="o">+</span> <span class="s">&#39;triggers/&#39;</span>
        <span class="n">collection_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">collection_link</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">fetch_fn</span><span class="p">(</span><span class="n">options</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">result_fn</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="s">&#39;Triggers&#39;</span><span class="p">]</span>
            <span class="k">def</span> <span class="nf">create_fn</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">body</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">body</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__QueryFeed</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                                    <span class="s">&#39;triggers&#39;</span><span class="p">,</span>
                                    <span class="n">collection_id</span><span class="p">,</span>
                                    <span class="n">result_fn</span><span class="p">,</span>
                                    <span class="n">create_fn</span><span class="p">,</span>
                                    <span class="n">query</span><span class="p">,</span>
                                    <span class="n">options</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span>
        <span class="k">return</span> <span class="n">query_iterator</span><span class="o">.</span><span class="n">QueryIterator</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">fetch_fn</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.CreateTrigger"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.CreateTrigger">[docs]</a>    <span class="k">def</span> <span class="nf">CreateTrigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection_link</span><span class="p">,</span> <span class="n">trigger</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Creates a trigger in a collection.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `collection_link`: str, the link to the document collection.</span>
<span class="sd">            - `trigger`: dict</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s">&#39;serverScript&#39;</span> <span class="ow">in</span> <span class="n">trigger</span><span class="p">:</span>
            <span class="n">trigger</span><span class="p">[</span><span class="s">&#39;body&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">trigger</span><span class="p">[</span><span class="s">&#39;serverScript&#39;</span><span class="p">])</span>
            <span class="n">trigger</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s">&#39;serverScript&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="k">elif</span> <span class="s">&#39;body&#39;</span> <span class="ow">in</span> <span class="n">trigger</span><span class="p">:</span>
            <span class="n">trigger</span><span class="p">[</span><span class="s">&#39;body&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">trigger</span><span class="p">[</span><span class="s">&#39;body&#39;</span><span class="p">])</span>
 
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">collection_link</span> <span class="o">+</span> <span class="s">&#39;triggers/&#39;</span>
        <span class="n">collection_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">collection_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">trigger</span><span class="p">,</span>
                           <span class="n">path</span><span class="p">,</span>
                           <span class="s">&#39;triggers&#39;</span><span class="p">,</span>
                           <span class="n">collection_id</span><span class="p">,</span>
                           <span class="bp">None</span><span class="p">,</span>
                           <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReadTrigger"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadTrigger">[docs]</a>    <span class="k">def</span> <span class="nf">ReadTrigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trigger_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads a trigger.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `trigger_link`: str, the link to the trigger.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">trigger_link</span>
        <span class="n">trigger_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">trigger_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;triggers&#39;</span><span class="p">,</span> <span class="n">trigger_id</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReadUserDefinedFunctions"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadUserDefinedFunctions">[docs]</a>    <span class="k">def</span> <span class="nf">ReadUserDefinedFunctions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads all user defined functions in a collection.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `collection_link`: str, the link to the document collection.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            query_iterator.QueryIterator</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">QueryUserDefinedFunctions</span><span class="p">(</span><span class="n">collection_link</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.QueryUserDefinedFunctions"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.QueryUserDefinedFunctions">[docs]</a>    <span class="k">def</span> <span class="nf">QueryUserDefinedFunctions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection_link</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Queries user defined functions in a collection.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `collection_link`: str, the link to the collection.</span>
<span class="sd">            - `query`: str</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            query_iterator.QueryIterator</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">collection_link</span> <span class="o">+</span> <span class="s">&#39;udfs/&#39;</span>
        <span class="n">collection_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">collection_link</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">fetch_fn</span><span class="p">(</span><span class="n">options</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">result_fn</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="s">&#39;UserDefinedFunctions&#39;</span><span class="p">]</span>
            <span class="k">def</span> <span class="nf">create_fn</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">body</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">body</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__QueryFeed</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                                    <span class="s">&#39;udfs&#39;</span><span class="p">,</span>
                                    <span class="n">collection_id</span><span class="p">,</span>
                                    <span class="n">result_fn</span><span class="p">,</span>
                                    <span class="n">create_fn</span><span class="p">,</span>
                                    <span class="n">query</span><span class="p">,</span>
                                    <span class="n">options</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span>
        <span class="k">return</span> <span class="n">query_iterator</span><span class="o">.</span><span class="n">QueryIterator</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">fetch_fn</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.CreateUserDefinedFunction"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.CreateUserDefinedFunction">[docs]</a>    <span class="k">def</span> <span class="nf">CreateUserDefinedFunction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection_link</span><span class="p">,</span> <span class="n">udf</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Creates a user defined function in a collection.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `collection_link`: str, the link to the collection.</span>
<span class="sd">            - `udf`: str</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s">&#39;serverScript&#39;</span> <span class="ow">in</span> <span class="n">udf</span><span class="p">:</span>
            <span class="n">udf</span><span class="p">[</span><span class="s">&#39;body&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">udf</span><span class="p">[</span><span class="s">&#39;serverScript&#39;</span><span class="p">])</span>
            <span class="n">udf</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s">&#39;serverScript&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="k">elif</span> <span class="s">&#39;body&#39;</span> <span class="ow">in</span> <span class="n">udf</span><span class="p">:</span>
            <span class="n">udf</span><span class="p">[</span><span class="s">&#39;body&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">udf</span><span class="p">[</span><span class="s">&#39;body&#39;</span><span class="p">])</span>

        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">collection_link</span> <span class="o">+</span> <span class="s">&#39;udfs/&#39;</span>
        <span class="n">collection_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">collection_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">udf</span><span class="p">,</span>
                           <span class="n">path</span><span class="p">,</span>
                           <span class="s">&#39;udfs&#39;</span><span class="p">,</span>
                           <span class="n">collection_id</span><span class="p">,</span>
                           <span class="bp">None</span><span class="p">,</span>
                           <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReadUserDefinedFunction"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadUserDefinedFunction">[docs]</a>    <span class="k">def</span> <span class="nf">ReadUserDefinedFunction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">udf_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads a user defined function.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `udf_link`: str, the link to the user defined function.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">udf_link</span>
        <span class="n">udf_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">udf_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;udfs&#39;</span><span class="p">,</span> <span class="n">udf_id</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReadStoredProcedures"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadStoredProcedures">[docs]</a>    <span class="k">def</span> <span class="nf">ReadStoredProcedures</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads all store procedures in a collection.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `collection_link`: str, the link to the document collection.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            query_iterator.QueryIterator</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">QueryStoredProcedures</span><span class="p">(</span><span class="n">collection_link</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.QueryStoredProcedures"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.QueryStoredProcedures">[docs]</a>    <span class="k">def</span> <span class="nf">QueryStoredProcedures</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection_link</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Queries stored procedures in a collection.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `collection_link`: str, the link to the document collection.</span>
<span class="sd">            - `query`: str</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            query_iterator.QueryIterator</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">collection_link</span> <span class="o">+</span> <span class="s">&#39;sprocs/&#39;</span>
        <span class="n">collection_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">collection_link</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">fetch_fn</span><span class="p">(</span><span class="n">options</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">result_fn</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="s">&#39;StoredProcedures&#39;</span><span class="p">]</span>
            <span class="k">def</span> <span class="nf">create_fn</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">body</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">body</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__QueryFeed</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                                    <span class="s">&#39;sprocs&#39;</span><span class="p">,</span>
                                    <span class="n">collection_id</span><span class="p">,</span>
                                    <span class="n">result_fn</span><span class="p">,</span>
                                    <span class="n">create_fn</span><span class="p">,</span>
                                    <span class="n">query</span><span class="p">,</span>
                                    <span class="n">options</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span>
        <span class="k">return</span> <span class="n">query_iterator</span><span class="o">.</span><span class="n">QueryIterator</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">fetch_fn</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.CreateStoredProcedure"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.CreateStoredProcedure">[docs]</a>    <span class="k">def</span> <span class="nf">CreateStoredProcedure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection_link</span><span class="p">,</span> <span class="n">sproc</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Creates a stored procedure in a collection.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `collection_link`: str, the link to the document collection.</span>
<span class="sd">            - `sproc`: str</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s">&#39;serverScript&#39;</span> <span class="ow">in</span> <span class="n">sproc</span><span class="p">:</span>
            <span class="n">sproc</span><span class="p">[</span><span class="s">&#39;body&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">sproc</span><span class="p">[</span><span class="s">&#39;serverScript&#39;</span><span class="p">])</span>
            <span class="n">sproc</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s">&#39;serverScript&#39;</span><span class="p">,</span> <span class="bp">None</span><span class="p">)</span>
        <span class="k">elif</span> <span class="s">&#39;body&#39;</span> <span class="ow">in</span> <span class="n">sproc</span><span class="p">:</span>
            <span class="n">sproc</span><span class="p">[</span><span class="s">&#39;body&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">sproc</span><span class="p">[</span><span class="s">&#39;body&#39;</span><span class="p">])</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">collection_link</span> <span class="o">+</span> <span class="s">&#39;sprocs/&#39;</span>
        <span class="n">collection_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">collection_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">sproc</span><span class="p">,</span>
                           <span class="n">path</span><span class="p">,</span>
                           <span class="s">&#39;sprocs&#39;</span><span class="p">,</span>
                           <span class="n">collection_id</span><span class="p">,</span>
                           <span class="bp">None</span><span class="p">,</span>
                           <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReadStoredProcedure"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadStoredProcedure">[docs]</a>    <span class="k">def</span> <span class="nf">ReadStoredProcedure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sproc_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads a stored procedure.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `sproc_link`: str, the link to the stored procedure.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">sproc_link</span>
        <span class="n">sproc_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">sproc_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="s">&#39;sprocs&#39;</span><span class="p">,</span> <span class="n">sproc_id</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReadConflicts"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadConflicts">[docs]</a>    <span class="k">def</span> <span class="nf">ReadConflicts</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection_link</span><span class="p">,</span> <span class="n">feed_options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads conflicts.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `collection_link`: str, the link to the document collection.</span>
<span class="sd">            - `feed_options`: dict</span>

<span class="sd">        :Returns:</span>
<span class="sd">            query_iterator.QueryIterator</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">collection_link</span> <span class="o">+</span> <span class="s">&#39;conflicts/&#39;</span>
        <span class="n">collection_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">collection_link</span><span class="p">)</span>
        <span class="k">def</span> <span class="nf">fetch_fn</span><span class="p">(</span><span class="n">options</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">result_fn</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="s">&#39;Conflicts&#39;</span><span class="p">]</span>
            <span class="k">def</span> <span class="nf">create_fn</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">body</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">body</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__QueryFeed</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                                    <span class="s">&#39;conflicts&#39;</span><span class="p">,</span>
                                    <span class="n">collection_id</span><span class="p">,</span>
                                    <span class="n">result_fn</span><span class="p">,</span>
                                    <span class="n">create_fn</span><span class="p">,</span>
                                    <span class="s">&#39;&#39;</span><span class="p">,</span>
                                    <span class="n">options</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span>
        <span class="k">return</span> <span class="n">query_iterator</span><span class="o">.</span><span class="n">QueryIterator</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">fetch_fn</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReadConflict"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadConflict">[docs]</a>    <span class="k">def</span> <span class="nf">ReadConflict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">conflict_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads a conflict.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `conflict_link`: str, the link to the conflict.</span>
<span class="sd">            - `opitions`: dict</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">conflict_link</span>
        <span class="n">conflict_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">conflict_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                         <span class="s">&#39;conflicts&#39;</span><span class="p">,</span>
                         <span class="n">conflict_id</span><span class="p">,</span>
                         <span class="bp">None</span><span class="p">,</span>
                         <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.DeleteCollection"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.DeleteCollection">[docs]</a>    <span class="k">def</span> <span class="nf">DeleteCollection</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">collection_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Deletes a collection.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `collection_link`: str, the link to the document collection.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">collection_link</span>
        <span class="n">collection_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">collection_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">DeleteResource</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                                   <span class="s">&#39;colls&#39;</span><span class="p">,</span>
                                   <span class="n">collection_id</span><span class="p">,</span>
                                   <span class="bp">None</span><span class="p">,</span>
                                   <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReplaceDocument"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReplaceDocument">[docs]</a>    <span class="k">def</span> <span class="nf">ReplaceDocument</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document_link</span><span class="p">,</span> <span class="n">new_document</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Replaces a document and returns it.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `document_link`: str, the link to the document.</span>
<span class="sd">            - `new_document`: dict</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">document_link</span>
        <span class="n">document_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">document_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Replace</span><span class="p">(</span><span class="n">new_document</span><span class="p">,</span>
                            <span class="n">path</span><span class="p">,</span>
                            <span class="s">&#39;docs&#39;</span><span class="p">,</span>
                            <span class="n">document_id</span><span class="p">,</span>
                            <span class="bp">None</span><span class="p">,</span>
                            <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.DeleteDocument"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.DeleteDocument">[docs]</a>    <span class="k">def</span> <span class="nf">DeleteDocument</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Deletes a document.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `document_link`: str, the link to the document.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">document_link</span>
        <span class="n">document_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">document_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">DeleteResource</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                                   <span class="s">&#39;docs&#39;</span><span class="p">,</span>
                                   <span class="n">document_id</span><span class="p">,</span>
                                   <span class="bp">None</span><span class="p">,</span>
                                   <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.CreateAttachment"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.CreateAttachment">[docs]</a>    <span class="k">def</span> <span class="nf">CreateAttachment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document_link</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Creates an attachment in a document.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `document_link`: str, the link to the document.</span>
<span class="sd">            - `body`: dict, the Azure DocumentDB attachment to create.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">document_link</span> <span class="o">+</span> <span class="s">&#39;attachments/&#39;</span>
        <span class="n">document_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">document_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">body</span><span class="p">,</span>
                           <span class="n">path</span><span class="p">,</span>
                           <span class="s">&#39;attachments&#39;</span><span class="p">,</span>
                           <span class="n">document_id</span><span class="p">,</span>
                           <span class="bp">None</span><span class="p">,</span>
                           <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.CreateAttachmentAndUploadMedia"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.CreateAttachmentAndUploadMedia">[docs]</a>    <span class="k">def</span> <span class="nf">CreateAttachmentAndUploadMedia</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                       <span class="n">document_link</span><span class="p">,</span>
                                       <span class="n">readable_stream</span><span class="p">,</span>
                                       <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Creates an attachment and upload media.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `document_link`: str, the link to the document.</span>
<span class="sd">            - `readable_stream`: file-like stream object</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">initial_headers</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">Extend</span><span class="p">({},</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_headers</span><span class="p">)</span>

        <span class="c"># Add required headers slug and content-type.</span>
        <span class="k">if</span> <span class="s">&#39;slug&#39;</span> <span class="ow">in</span> <span class="n">options</span><span class="p">:</span>
            <span class="n">initial_headers</span><span class="p">[</span><span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">Slug</span><span class="p">]</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s">&#39;slug&#39;</span><span class="p">]</span>

        <span class="k">if</span> <span class="s">&#39;contentType&#39;</span> <span class="ow">in</span> <span class="n">options</span><span class="p">:</span>
            <span class="n">initial_headers</span><span class="p">[</span><span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">ContentType</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">options</span><span class="p">[</span><span class="s">&#39;contentType&#39;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">initial_headers</span><span class="p">[</span><span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">ContentType</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">runtime_constants</span><span class="o">.</span><span class="n">MediaTypes</span><span class="o">.</span><span class="n">OctetStream</span><span class="p">)</span>

        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">document_link</span> <span class="o">+</span> <span class="s">&#39;attachments/&#39;</span>
        <span class="n">document_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">document_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Create</span><span class="p">(</span><span class="n">readable_stream</span><span class="p">,</span>
                           <span class="n">path</span><span class="p">,</span>
                           <span class="s">&#39;attachments&#39;</span><span class="p">,</span>
                           <span class="n">document_id</span><span class="p">,</span>
                           <span class="n">initial_headers</span><span class="p">,</span>
                           <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReadAttachment"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadAttachment">[docs]</a>    <span class="k">def</span> <span class="nf">ReadAttachment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attachment_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads an attachment.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `attachment_link`: str, the link to the attachment.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">attachment_link</span>
        <span class="n">attachment_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">attachment_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Read</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                         <span class="s">&#39;attachments&#39;</span><span class="p">,</span>
                         <span class="n">attachment_id</span><span class="p">,</span>
                         <span class="bp">None</span><span class="p">,</span>
                         <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReadAttachments"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadAttachments">[docs]</a>    <span class="k">def</span> <span class="nf">ReadAttachments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads all attachments in a document.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `document_link`: str, the link to the document.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            query_iterator.QueryIterator</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">QueryAttachments</span><span class="p">(</span><span class="n">document_link</span><span class="p">,</span> <span class="bp">None</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.QueryAttachments"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.QueryAttachments">[docs]</a>    <span class="k">def</span> <span class="nf">QueryAttachments</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">document_link</span><span class="p">,</span> <span class="n">query</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Queries attachments in a document.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `document_link`: str, the link to the document.</span>
<span class="sd">            - `query`: str</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            query_iterator.QueryIterator</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">document_link</span> <span class="o">+</span> <span class="s">&#39;attachments/&#39;</span>
        <span class="n">document_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">document_link</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">fetch_fn</span><span class="p">(</span><span class="n">options</span><span class="p">):</span>
            <span class="k">def</span> <span class="nf">result_fn</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">result</span><span class="p">[</span><span class="s">&#39;Attachments&#39;</span><span class="p">]</span>
            <span class="k">def</span> <span class="nf">create_fn</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">body</span><span class="p">):</span>
                <span class="k">return</span> <span class="n">body</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">__QueryFeed</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                                    <span class="s">&#39;attachments&#39;</span><span class="p">,</span>
                                    <span class="n">document_id</span><span class="p">,</span>
                                    <span class="n">result_fn</span><span class="p">,</span>
                                    <span class="n">create_fn</span><span class="p">,</span>
                                    <span class="n">query</span><span class="p">,</span>
                                    <span class="n">options</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span>
        <span class="k">return</span> <span class="n">query_iterator</span><span class="o">.</span><span class="n">QueryIterator</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">fetch_fn</span><span class="p">)</span>

</div>
<div class="viewcode-block" id="DocumentClient.ReadMedia"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReadMedia">[docs]</a>    <span class="k">def</span> <span class="nf">ReadMedia</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">media_link</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Reads a media.</span>

<span class="sd">        When self.connection_policy.MediaReadMode ==</span>
<span class="sd">        documents.MediaReadMode.Streamed, returns a file-like stream object;</span>
<span class="sd">        otherwise, returns a str.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `media_link`: str, the link to the media.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            str or file-link stream object</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">default_headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_headers</span>
        <span class="n">url_connection</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">url_connection</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">media_link</span>
        <span class="n">media_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">media_link</span><span class="p">)</span>
        <span class="n">attachment_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetAttachmentIdFromMediaId</span><span class="p">(</span><span class="n">media_id</span><span class="p">)</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetHeaders</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                  <span class="n">default_headers</span><span class="p">,</span>
                                  <span class="s">&#39;get&#39;</span><span class="p">,</span>
                                  <span class="n">path</span><span class="p">,</span>
                                  <span class="n">attachment_id</span><span class="p">,</span>
                                  <span class="s">&#39;media&#39;</span><span class="p">,</span>
                                  <span class="p">{})</span>

        <span class="n">result</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Get</span><span class="p">(</span><span class="n">url_connection</span><span class="p">,</span>
                                                        <span class="n">path</span><span class="p">,</span>
                                                        <span class="n">headers</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</div>
<div class="viewcode-block" id="DocumentClient.UpdateMedia"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.UpdateMedia">[docs]</a>    <span class="k">def</span> <span class="nf">UpdateMedia</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">media_link</span><span class="p">,</span> <span class="n">readable_stream</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Updates a media and returns it.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `media_link`: str, the link to the media.</span>
<span class="sd">            - `readable_stream`: file-like stream object</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            str or file-like stream object</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">default_headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_headers</span>
        <span class="n">initial_headers</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">Extend</span><span class="p">({},</span> <span class="n">default_headers</span><span class="p">)</span>

        <span class="c"># Add required headers slug and content-type in case the body is a stream</span>
        <span class="k">if</span> <span class="s">&#39;slug&#39;</span> <span class="ow">in</span> <span class="n">options</span><span class="p">:</span>
            <span class="n">initial_headers</span><span class="p">[</span><span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">Slug</span><span class="p">]</span> <span class="o">=</span> <span class="n">options</span><span class="p">[</span><span class="s">&#39;slug&#39;</span><span class="p">]</span>

        <span class="k">if</span> <span class="s">&#39;contentType&#39;</span> <span class="ow">in</span> <span class="n">options</span><span class="p">:</span>
            <span class="n">initial_headers</span><span class="p">[</span><span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">ContentType</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">options</span><span class="p">[</span><span class="s">&#39;contentType&#39;</span><span class="p">])</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">initial_headers</span><span class="p">[</span><span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">ContentType</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">runtime_constants</span><span class="o">.</span><span class="n">MediaTypes</span><span class="o">.</span><span class="n">OctetStream</span><span class="p">)</span>

        <span class="n">url_connection</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">url_connection</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">media_link</span>
        <span class="n">media_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">media_link</span><span class="p">)</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetHeaders</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                  <span class="n">initial_headers</span><span class="p">,</span>
                                  <span class="s">&#39;put&#39;</span><span class="p">,</span>
                                  <span class="n">path</span><span class="p">,</span>
                                  <span class="n">media_id</span><span class="p">,</span>
                                  <span class="s">&#39;media&#39;</span><span class="p">,</span>
                                  <span class="n">options</span><span class="p">)</span>

        <span class="n">result</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Put</span><span class="p">(</span><span class="n">url_connection</span><span class="p">,</span>
                                                        <span class="n">path</span><span class="p">,</span>
                                                        <span class="n">readable_stream</span><span class="p">,</span>
                                                        <span class="n">headers</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReplaceAttachment"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReplaceAttachment">[docs]</a>    <span class="k">def</span> <span class="nf">ReplaceAttachment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attachment_link</span><span class="p">,</span> <span class="n">attachment</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Replaces an attachment and returns it.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `attachment_link`: str, the link to the attachment.</span>
<span class="sd">            - `attachment`: dict</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">attachment_link</span>
        <span class="n">attachment_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">attachment_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Replace</span><span class="p">(</span><span class="n">attachment</span><span class="p">,</span>
                            <span class="n">path</span><span class="p">,</span>
                            <span class="s">&#39;attachments&#39;</span><span class="p">,</span>
                            <span class="n">attachment_id</span><span class="p">,</span>
                            <span class="bp">None</span><span class="p">,</span>
                            <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.DeleteAttachment"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.DeleteAttachment">[docs]</a>    <span class="k">def</span> <span class="nf">DeleteAttachment</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">attachment_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Deletes an attachment.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `attachment_link`: str, the link to the attachment.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">attachment_link</span>
        <span class="n">attachment_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">attachment_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">DeleteResource</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                                   <span class="s">&#39;attachments&#39;</span><span class="p">,</span>
                                   <span class="n">attachment_id</span><span class="p">,</span>
                                   <span class="bp">None</span><span class="p">,</span>
                                   <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReplaceTrigger"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReplaceTrigger">[docs]</a>    <span class="k">def</span> <span class="nf">ReplaceTrigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trigger_link</span><span class="p">,</span> <span class="n">trigger</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Replaces a trigger and returns it.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `trigger_link`: str, the link to the trigger.</span>
<span class="sd">            - `trigger`: dict</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s">&#39;serverScript&#39;</span> <span class="ow">in</span> <span class="n">trigger</span><span class="p">:</span>
            <span class="n">trigger</span><span class="p">[</span><span class="s">&#39;body&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">trigger</span><span class="p">[</span><span class="s">&#39;serverScript&#39;</span><span class="p">])</span>
        <span class="k">elif</span> <span class="s">&#39;body&#39;</span> <span class="ow">in</span> <span class="n">trigger</span><span class="p">:</span>
            <span class="n">trigger</span><span class="p">[</span><span class="s">&#39;body&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">trigger</span><span class="p">[</span><span class="s">&#39;body&#39;</span><span class="p">])</span>
            
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">trigger_link</span>
        <span class="n">trigger_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">trigger_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Replace</span><span class="p">(</span><span class="n">trigger</span><span class="p">,</span>
                            <span class="n">path</span><span class="p">,</span>
                            <span class="s">&#39;triggers&#39;</span><span class="p">,</span>
                            <span class="n">trigger_id</span><span class="p">,</span>
                            <span class="bp">None</span><span class="p">,</span>
                            <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.DeleteTrigger"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.DeleteTrigger">[docs]</a>    <span class="k">def</span> <span class="nf">DeleteTrigger</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">trigger_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Deletes a trigger.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `trigger_link`: str, the link to the trigger.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">trigger_link</span>
        <span class="n">trigger_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">trigger_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">DeleteResource</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                                   <span class="s">&#39;triggers&#39;</span><span class="p">,</span>
                                   <span class="n">trigger_id</span><span class="p">,</span>
                                   <span class="bp">None</span><span class="p">,</span>
                                   <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReplaceUserDefinedFunction"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReplaceUserDefinedFunction">[docs]</a>    <span class="k">def</span> <span class="nf">ReplaceUserDefinedFunction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">udf_link</span><span class="p">,</span> <span class="n">udf</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Replaces a user defined function and returns it.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `udf_link`: str, the link to the user defined function.</span>
<span class="sd">            - `udf`: dict</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s">&#39;serverScript&#39;</span> <span class="ow">in</span> <span class="n">udf</span><span class="p">:</span>
            <span class="n">udf</span><span class="p">[</span><span class="s">&#39;body&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">udf</span><span class="p">[</span><span class="s">&#39;serverScript&#39;</span><span class="p">])</span>
        <span class="k">elif</span> <span class="s">&#39;body&#39;</span> <span class="ow">in</span> <span class="n">udf</span><span class="p">:</span>
            <span class="n">udf</span><span class="p">[</span><span class="s">&#39;body&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">udf</span><span class="p">[</span><span class="s">&#39;body&#39;</span><span class="p">])</span>

        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">udf_link</span>
        <span class="n">udf_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">udf_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Replace</span><span class="p">(</span><span class="n">udf</span><span class="p">,</span>
                            <span class="n">path</span><span class="p">,</span>
                            <span class="s">&#39;udfs&#39;</span><span class="p">,</span>
                            <span class="n">udf_id</span><span class="p">,</span>
                            <span class="bp">None</span><span class="p">,</span>
                            <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.DeleteUserDefinedFunction"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.DeleteUserDefinedFunction">[docs]</a>    <span class="k">def</span> <span class="nf">DeleteUserDefinedFunction</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">udf_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Deletes a user defined function.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `udf_link`: str, the link to the user defined function.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">udf_link</span>
        <span class="n">udf_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">udf_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">DeleteResource</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                                   <span class="s">&#39;udfs&#39;</span><span class="p">,</span>
                                   <span class="n">udf_id</span><span class="p">,</span>
                                   <span class="bp">None</span><span class="p">,</span>
                                   <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.ExecuteStoredProcedure"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ExecuteStoredProcedure">[docs]</a>    <span class="k">def</span> <span class="nf">ExecuteStoredProcedure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sproc_link</span><span class="p">,</span> <span class="n">params</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Executes a store procedure.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `sproc_link`: str, the link to the stored procedure.</span>
<span class="sd">            - `params`: dict, list or None</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">default_headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_headers</span>
        <span class="n">initial_headers</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">Accept</span><span class="p">:</span> <span class="p">(</span>
                <span class="n">runtime_constants</span><span class="o">.</span><span class="n">MediaTypes</span><span class="o">.</span><span class="n">Json</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="n">initial_headers</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">Extend</span><span class="p">(</span><span class="n">initial_headers</span><span class="p">,</span> <span class="n">default_headers</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">params</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">type</span><span class="p">(</span><span class="n">params</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">list</span><span class="p">:</span>
            <span class="n">params</span> <span class="o">=</span> <span class="p">[</span><span class="n">params</span><span class="p">]</span>

        <span class="n">url_connection</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">url_connection</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">sproc_link</span>
        <span class="n">sproc_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">sproc_link</span><span class="p">)</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetHeaders</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                  <span class="n">initial_headers</span><span class="p">,</span>
                                  <span class="s">&#39;post&#39;</span><span class="p">,</span>
                                  <span class="n">path</span><span class="p">,</span>
                                  <span class="n">sproc_id</span><span class="p">,</span>
                                  <span class="s">&#39;sprocs&#39;</span><span class="p">,</span>
                                  <span class="p">{})</span>

        <span class="n">result</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Post</span><span class="p">(</span><span class="n">url_connection</span><span class="p">,</span>
                                                         <span class="n">path</span><span class="p">,</span>
                                                         <span class="n">params</span><span class="p">,</span>
                                                         <span class="n">headers</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</div>
<div class="viewcode-block" id="DocumentClient.ReplaceStoredProcedure"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.ReplaceStoredProcedure">[docs]</a>    <span class="k">def</span> <span class="nf">ReplaceStoredProcedure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sproc_link</span><span class="p">,</span> <span class="n">sproc</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Replaces a stored procedure and returns it.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `sproc_link`: str, the link to the stored procedure.</span>
<span class="sd">            - `sproc`: dict</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s">&#39;serverScript&#39;</span> <span class="ow">in</span> <span class="n">sproc</span><span class="p">:</span>
            <span class="n">sproc</span><span class="p">[</span><span class="s">&#39;body&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">sproc</span><span class="p">[</span><span class="s">&#39;serverScript&#39;</span><span class="p">])</span>
        <span class="k">elif</span> <span class="s">&#39;body&#39;</span> <span class="ow">in</span> <span class="n">sproc</span><span class="p">:</span>
            <span class="n">sproc</span><span class="p">[</span><span class="s">&#39;body&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">sproc</span><span class="p">[</span><span class="s">&#39;body&#39;</span><span class="p">])</span>

        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">sproc_link</span>
        <span class="n">sproc_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">sproc_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">Replace</span><span class="p">(</span><span class="n">sproc</span><span class="p">,</span>
                            <span class="n">path</span><span class="p">,</span>
                            <span class="s">&#39;sprocs&#39;</span><span class="p">,</span>
                            <span class="n">sproc_id</span><span class="p">,</span>
                            <span class="bp">None</span><span class="p">,</span>
                            <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.DeleteStoredProcedure"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.DeleteStoredProcedure">[docs]</a>    <span class="k">def</span> <span class="nf">DeleteStoredProcedure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sproc_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Deletes a stored procedure.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `sproc_link`: str, the link to the stored procedure.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">sproc_link</span>
        <span class="n">sproc_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">sproc_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">DeleteResource</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                                   <span class="s">&#39;sprocs&#39;</span><span class="p">,</span>
                                   <span class="n">sproc_id</span><span class="p">,</span>
                                   <span class="bp">None</span><span class="p">,</span>
                                   <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.DeleteConflict"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.DeleteConflict">[docs]</a>    <span class="k">def</span> <span class="nf">DeleteConflict</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">conflict_link</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Deletes a conflict.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `conflict_link`: str, the link to the conflict.</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">path</span> <span class="o">=</span> <span class="s">&#39;/&#39;</span> <span class="o">+</span> <span class="n">conflict_link</span>
        <span class="n">conflict_id</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetIdFromLink</span><span class="p">(</span><span class="n">conflict_link</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">DeleteResource</span><span class="p">(</span><span class="n">path</span><span class="p">,</span>
                                   <span class="s">&#39;conflicts&#39;</span><span class="p">,</span>
                                   <span class="n">conflict_id</span><span class="p">,</span>
                                   <span class="bp">None</span><span class="p">,</span>
                                   <span class="n">options</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="DocumentClient.GetDatabaseAccount"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.GetDatabaseAccount">[docs]</a>    <span class="k">def</span> <span class="nf">GetDatabaseAccount</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Gets database account info.</span>
<span class="sd">        :Returns:</span>
<span class="sd">            documents.DatabaseAccount</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">default_headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_headers</span>
        <span class="n">initial_headers</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">Extend</span><span class="p">({</span> <span class="p">},</span> <span class="n">default_headers</span><span class="p">)</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetHeaders</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                  <span class="n">initial_headers</span><span class="p">,</span>
                                  <span class="s">&#39;get&#39;</span><span class="p">,</span>
                                  <span class="s">&#39;&#39;</span><span class="p">,</span>  <span class="c"># path</span>
                                  <span class="s">&#39;&#39;</span><span class="p">,</span>  <span class="c"># id</span>
                                  <span class="s">&#39;&#39;</span><span class="p">,</span>  <span class="c"># type</span>
                                  <span class="p">{});</span>
        <span class="n">result</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url_connection</span><span class="p">,</span>
                                                        <span class="s">&#39;&#39;</span><span class="p">,</span>
                                                        <span class="n">headers</span><span class="p">)</span>
        <span class="n">database_account</span> <span class="o">=</span> <span class="n">documents</span><span class="o">.</span><span class="n">DatabaseAccount</span><span class="p">()</span>
        <span class="n">database_account</span><span class="o">.</span><span class="n">DatabasesLink</span> <span class="o">=</span> <span class="s">&#39;/dbs/&#39;</span>
        <span class="n">database_account</span><span class="o">.</span><span class="n">MediaLink</span> <span class="o">=</span> <span class="s">&#39;/media/&#39;</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">MaxMediaStorageUsageInMB</span> <span class="ow">in</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span><span class="p">):</span>
            <span class="n">database_account</span><span class="o">.</span><span class="n">MaxMediaStorageUsageInMB</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span><span class="p">[</span>
                    <span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">MaxMediaStorageUsageInMB</span><span class="p">])</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">CurrentMediaStorageUsageInMB</span> <span class="ow">in</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span><span class="p">):</span>
            <span class="n">database_account</span><span class="o">.</span><span class="n">CurrentMediaStorageUsageInMB</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span><span class="p">[</span>
                    <span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">CurrentMediaStorageUsageInMB</span><span class="p">])</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">DatabaseAccountCapacityUnitsConsumed</span> <span class="ow">in</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span><span class="p">):</span>
            <span class="n">database_account</span><span class="o">.</span><span class="n">CapacityUnitsConsumed</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span><span class="p">[</span>
                <span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">DatabaseAccountCapacityUnitsConsumed</span><span class="p">]</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">DatabaseAccountCapacityUnitsProvisioned</span>
            <span class="ow">in</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span><span class="p">):</span>
            <span class="n">database_account</span><span class="o">.</span><span class="n">CapacityUnitsProvisioned</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span><span class="p">[</span>
                    <span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span>
                    <span class="n">DatabaseAccountCapacityUnitsProvisioned</span><span class="p">])</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span>
                <span class="n">DatabaseAccountConsumedDocumentStorageInMB</span> <span class="ow">in</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span><span class="p">):</span>
            <span class="n">database_account</span><span class="o">.</span><span class="n">ConsumedDocumentStorageInMB</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span><span class="p">[</span>
                    <span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span>
                    <span class="n">DatabaseAccountConsumedDocumentStorageInMB</span><span class="p">])</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span>
                <span class="n">DatabaseAccountReservedDocumentStorageInMB</span> <span class="ow">in</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span><span class="p">):</span>
            <span class="n">database_account</span><span class="o">.</span><span class="n">ReservedDocumentStorageInMB</span> <span class="o">=</span> <span class="p">(</span>
               <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span><span class="p">[</span>
                    <span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span>
                    <span class="n">DatabaseAccountReservedDocumentStorageInMB</span><span class="p">])</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span>
                <span class="n">DatabaseAccountProvisionedDocumentStorageInMB</span> <span class="ow">in</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span><span class="p">):</span>
            <span class="n">database_account</span><span class="o">.</span><span class="n">ProvisionedDocumentStorageInMB</span> <span class="o">=</span> <span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span><span class="p">[</span>
                    <span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span>
                    <span class="n">DatabaseAccountProvisionedDocumentStorageInMB</span><span class="p">])</span>
        <span class="n">database_account</span><span class="o">.</span><span class="n">ConsistencyPolicy</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s">&#39;userConsistencyPolicy&#39;</span><span class="p">]</span>
        <span class="k">return</span> <span class="n">database_account</span>
</div>
<div class="viewcode-block" id="DocumentClient.Create"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.Create">[docs]</a>    <span class="k">def</span> <span class="nf">Create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">initial_headers</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Creates a DocumentDB resource and returns it.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `body`: dict</span>
<span class="sd">            - `path`: str</span>
<span class="sd">            - `type`: str</span>
<span class="sd">            - `id`: str</span>
<span class="sd">            - `initial_headers`: dict</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">initial_headers</span> <span class="o">=</span> <span class="n">initial_headers</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_headers</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetHeaders</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                  <span class="n">initial_headers</span><span class="p">,</span>
                                  <span class="s">&#39;post&#39;</span><span class="p">,</span>
                                  <span class="n">path</span><span class="p">,</span>
                                  <span class="nb">id</span><span class="p">,</span>
                                  <span class="nb">type</span><span class="p">,</span>
                                  <span class="n">options</span><span class="p">)</span>
        <span class="n">result</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Post</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url_connection</span><span class="p">,</span>
                                                         <span class="n">path</span><span class="p">,</span>
                                                         <span class="n">body</span><span class="p">,</span>
                                                         <span class="n">headers</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</div>
<div class="viewcode-block" id="DocumentClient.Replace"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.Replace">[docs]</a>    <span class="k">def</span> <span class="nf">Replace</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">resource</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">initial_headers</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Replaces a DocumentDB resource and returns it.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `resource`: dict</span>
<span class="sd">            - `path`: str</span>
<span class="sd">            - `type`: str</span>
<span class="sd">            - `id`: str</span>
<span class="sd">            - `initial_headers`: dict</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">initial_headers</span> <span class="o">=</span> <span class="n">initial_headers</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_headers</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetHeaders</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                  <span class="n">initial_headers</span><span class="p">,</span>
                                  <span class="s">&#39;put&#39;</span><span class="p">,</span>
                                  <span class="n">path</span><span class="p">,</span>
                                  <span class="nb">id</span><span class="p">,</span>
                                  <span class="nb">type</span><span class="p">,</span>
                                  <span class="n">options</span><span class="p">)</span>
        <span class="n">result</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Put</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url_connection</span><span class="p">,</span>
                                                        <span class="n">path</span><span class="p">,</span>
                                                        <span class="n">resource</span><span class="p">,</span>
                                                        <span class="n">headers</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</div>
<div class="viewcode-block" id="DocumentClient.Read"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.Read">[docs]</a>    <span class="k">def</span> <span class="nf">Read</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">initial_headers</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Reads a DocumentDB resource and returns it.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `path`: str</span>
<span class="sd">            - `type`: str</span>
<span class="sd">            - `id`: str</span>
<span class="sd">            - `initial_headers`: dict</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">initial_headers</span> <span class="o">=</span> <span class="n">initial_headers</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_headers</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetHeaders</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                  <span class="n">initial_headers</span><span class="p">,</span>
                                  <span class="s">&#39;get&#39;</span><span class="p">,</span>
                                  <span class="n">path</span><span class="p">,</span>
                                  <span class="nb">id</span><span class="p">,</span>
                                  <span class="nb">type</span><span class="p">,</span>
                                  <span class="n">options</span><span class="p">)</span>
        <span class="n">result</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Get</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url_connection</span><span class="p">,</span>
                                                        <span class="n">path</span><span class="p">,</span>
                                                        <span class="n">headers</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</div>
<div class="viewcode-block" id="DocumentClient.DeleteResource"><a class="viewcode-back" href="../../api/pydocumentdb.document_client.html#pydocumentdb.document_client.DocumentClient.DeleteResource">[docs]</a>    <span class="k">def</span> <span class="nf">DeleteResource</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="nb">type</span><span class="p">,</span> <span class="nb">id</span><span class="p">,</span> <span class="n">initial_headers</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Deletes a DocumentDB resource and returns it.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `path`: str</span>
<span class="sd">            - `type`: str</span>
<span class="sd">            - `id`: str</span>
<span class="sd">            - `initial_headers`: dict</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            dict</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">initial_headers</span> <span class="o">=</span> <span class="n">initial_headers</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_headers</span>
        <span class="n">headers</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetHeaders</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                  <span class="n">initial_headers</span><span class="p">,</span>
                                  <span class="s">&#39;delete&#39;</span><span class="p">,</span>
                                  <span class="n">path</span><span class="p">,</span>
                                  <span class="nb">id</span><span class="p">,</span>
                                  <span class="nb">type</span><span class="p">,</span>
                                  <span class="n">options</span><span class="p">)</span>
        <span class="n">result</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Delete</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url_connection</span><span class="p">,</span>
                                                           <span class="n">path</span><span class="p">,</span>
                                                           <span class="n">headers</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">result</span>
</div>
    <span class="k">def</span> <span class="nf">__Get</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;DocumentDB &#39;GET&#39; http request.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `url`: str</span>
<span class="sd">            - `path`: str</span>
<span class="sd">            - `headers`: dict</span>

<span class="sd">        :Returns:</span>
<span class="sd">            tuple (result, headers), and result and headers are both</span>
<span class="sd">            dicts</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">synchronized_request</span><span class="o">.</span><span class="n">SynchronizedRequest</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">connection_policy</span><span class="p">,</span>
                                                        <span class="s">&#39;GET&#39;</span><span class="p">,</span>
                                                        <span class="n">url</span><span class="p">,</span>
                                                        <span class="n">path</span><span class="p">,</span>
                                                        <span class="bp">None</span><span class="p">,</span>
                                                        <span class="bp">None</span><span class="p">,</span>
                                                        <span class="n">headers</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__Post</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">headers</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;DocumentDB &#39;POST&#39; http request.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `url`: str</span>
<span class="sd">            - `path`: str</span>
<span class="sd">            - `body`: str, unicode or dict</span>
<span class="sd">            - `headers`: dict</span>

<span class="sd">        :Returns:</span>
<span class="sd">            tuple (result, headers), and result and headers are both</span>
<span class="sd">            dicts</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">synchronized_request</span><span class="o">.</span><span class="n">SynchronizedRequest</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">connection_policy</span><span class="p">,</span>
                                                        <span class="s">&#39;POST&#39;</span><span class="p">,</span>
                                                        <span class="n">url</span><span class="p">,</span>
                                                        <span class="n">path</span><span class="p">,</span>
                                                        <span class="n">body</span><span class="p">,</span>
                                                        <span class="n">query_params</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                                                        <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__Put</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">body</span><span class="p">,</span> <span class="n">headers</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;DocumentDB &#39;PUT&#39; http request.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `url`: str</span>
<span class="sd">            - `path`: str</span>
<span class="sd">            - `body`: str, unicode or dict</span>
<span class="sd">            - `headers`: dict</span>

<span class="sd">        :Returns:</span>
<span class="sd">            tuple (result, headers), and result and headers are both</span>
<span class="sd">            dicts</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">synchronized_request</span><span class="o">.</span><span class="n">SynchronizedRequest</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">connection_policy</span><span class="p">,</span>
                                                        <span class="s">&#39;PUT&#39;</span><span class="p">,</span>
                                                        <span class="n">url</span><span class="p">,</span>
                                                        <span class="n">path</span><span class="p">,</span>
                                                        <span class="n">body</span><span class="p">,</span>
                                                        <span class="n">query_params</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                                                        <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__Delete</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">url</span><span class="p">,</span> <span class="n">path</span><span class="p">,</span> <span class="n">headers</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;DocumentDB &#39;DELETE&#39; http request.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `url`: str</span>
<span class="sd">            - `path`: str</span>
<span class="sd">            - `headers`: dict</span>

<span class="sd">        :Returns:</span>
<span class="sd">            tuple (result, headers), and result and headers are both</span>
<span class="sd">            dicts</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">synchronized_request</span><span class="o">.</span><span class="n">SynchronizedRequest</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">connection_policy</span><span class="p">,</span>
                                                        <span class="s">&#39;DELETE&#39;</span><span class="p">,</span>
                                                        <span class="n">url</span><span class="p">,</span>
                                                        <span class="n">path</span><span class="p">,</span>
                                                        <span class="n">request_data</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                                                        <span class="n">query_params</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span>
                                                        <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__QueryFeed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                    <span class="n">path</span><span class="p">,</span>
                    <span class="nb">type</span><span class="p">,</span>
                    <span class="nb">id</span><span class="p">,</span>
                    <span class="n">result_fn</span><span class="p">,</span>
                    <span class="n">create_fn</span><span class="p">,</span>
                    <span class="n">query</span><span class="p">,</span>
                    <span class="n">options</span><span class="o">=</span><span class="p">{}):</span>
        <span class="sd">&quot;&quot;&quot;Query for more than one DocumentDB resources.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `path`: str</span>
<span class="sd">            - `type`: str</span>
<span class="sd">            - `id`: str</span>
<span class="sd">            - `result_fn`: function</span>
<span class="sd">            - `create_fn`: function</span>
<span class="sd">            - `query`: str</span>
<span class="sd">            - `options`: dict, the request options for the request.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            list</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">def</span> <span class="nf">__GetBodiesFromQueryResult</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
            <span class="n">bodies</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="k">if</span> <span class="n">query</span><span class="p">:</span>
                <span class="n">bodies</span> <span class="o">=</span> <span class="n">result_fn</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">body</span> <span class="ow">in</span> <span class="n">result_fn</span><span class="p">(</span><span class="n">result</span><span class="p">):</span>
                    <span class="n">bodies</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">create_fn</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">body</span><span class="p">))</span>
            <span class="k">return</span> <span class="n">bodies</span>

        <span class="n">url_connection</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">url_connection</span>
        <span class="n">initial_headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">default_headers</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
        <span class="c"># Copy to make sure that default_headers won&#39;t be changed.</span>
        <span class="k">if</span> <span class="n">query</span> <span class="o">==</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">headers</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetHeaders</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                      <span class="n">initial_headers</span><span class="p">,</span>
                                      <span class="s">&#39;get&#39;</span><span class="p">,</span>
                                      <span class="n">path</span><span class="p">,</span>
                                      <span class="nb">id</span><span class="p">,</span>
                                      <span class="nb">type</span><span class="p">,</span>
                                      <span class="n">options</span><span class="p">)</span>
            <span class="n">result</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Get</span><span class="p">(</span><span class="n">url_connection</span><span class="p">,</span>
                                                            <span class="n">path</span><span class="p">,</span>
                                                            <span class="n">headers</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">__GetBodiesFromQueryResult</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">initial_headers</span><span class="p">[</span><span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">IsQuery</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;true&#39;</span>
            <span class="k">if</span> <span class="s">&#39;jpath&#39;</span> <span class="ow">in</span> <span class="n">options</span> <span class="ow">and</span> <span class="n">options</span><span class="p">[</span><span class="s">&#39;jpath&#39;</span><span class="p">]:</span>
                <span class="n">initial_headers</span><span class="p">[</span><span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">Query</span><span class="p">]</span> <span class="o">=</span> <span class="n">query</span>
                <span class="n">headers</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetHeaders</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                          <span class="n">initial_headers</span><span class="p">,</span>
                                          <span class="s">&#39;get&#39;</span><span class="p">,</span>
                                          <span class="n">path</span><span class="p">,</span>
                                          <span class="nb">id</span><span class="p">,</span>
                                          <span class="nb">type</span><span class="p">,</span>
                                          <span class="n">options</span><span class="p">)</span>
                <span class="n">result</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Get</span><span class="p">(</span><span class="n">url_connection</span><span class="p">,</span>
                                                                <span class="n">path</span><span class="p">,</span>
                                                                <span class="n">headers</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">__GetBodiesFromQueryResult</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">initial_headers</span><span class="p">[</span><span class="n">http_constants</span><span class="o">.</span><span class="n">HttpHeaders</span><span class="o">.</span><span class="n">ContentType</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">runtime_constants</span><span class="o">.</span><span class="n">MediaTypes</span><span class="o">.</span><span class="n">SQL</span><span class="p">)</span>
                <span class="n">headers</span> <span class="o">=</span> <span class="n">base</span><span class="o">.</span><span class="n">GetHeaders</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
                                          <span class="n">initial_headers</span><span class="p">,</span>
                                          <span class="s">&#39;post&#39;</span><span class="p">,</span>
                                          <span class="n">path</span><span class="p">,</span>
                                          <span class="nb">id</span><span class="p">,</span>
                                          <span class="nb">type</span><span class="p">,</span>
                                          <span class="n">options</span><span class="p">)</span>
                <span class="n">result</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">last_response_headers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">__Post</span><span class="p">(</span><span class="n">url_connection</span><span class="p">,</span>
                                                                 <span class="n">path</span><span class="p">,</span>
                                                                 <span class="n">query</span><span class="p">,</span>
                                                                 <span class="n">headers</span><span class="p">)</span>
                <span class="k">return</span> <span class="n">__GetBodiesFromQueryResult</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__enter__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;To support `with` operator.</span>

<span class="sd">        :Returns:</span>
<span class="sd">            document_client.DocumentClient</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span>

    <span class="k">def</span> <span class="nf">__exit__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">e_type</span><span class="p">,</span> <span class="n">e_value</span><span class="p">,</span> <span class="n">e_trace</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;To support `with` operator.</span>

<span class="sd">        :Parameters:</span>
<span class="sd">            - `e_type`: the type of exception</span>
<span class="sd">            - `e_value`: the exception instance raised.</span>
<span class="sd">            - `e_trance`: a traceback instance.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">pass</span></div>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li><a href="../../index.html">pydocumentdb 0.9.0-preview documentation</a> &raquo;</li>
          <li><a href="../index.html" >Module code</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, Microsoft.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>